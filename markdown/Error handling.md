
# Обработка ошибок

- [Обработка ошибок](#обработка-ошибок)
  - [Исключения в C++](#исключения-в-c)
    - [Access violation](#access-violation)
  - [Коды возврата](#коды-возврата)
  - [Ссылки](#ссылки)

## Исключения в C++

В C++ есть два типа исключений: исключения, которые можно обработать и исключения, которые нельзя обработать. Первые называются исключениями, вторые - ошибками. Все ошибки в C++ являются исключениями, но не все исключения являются ошибками. Следующий код показывает, как обрабатывать исключения:

```cpp
try {
    // ...
} catch (const std::exception& e) {
    // ...
}
```

В этом коде `std::exception` - базовый класс для всех исключений, которые можно обработать. Если исключение не может быть обработано, то оно будет передано дальше по стеку вызовов. Если исключение не может быть обработано, то программа завершается с ошибкой.

### Access violation

Если программа попытается получить доступ к памяти, которая не принадлежит ей, то она получит ошибку `Access violation`. Это ошибка, которую нельзя обработать. Попытка обработать эту ошибку приведет к завершению программы с ошибкой.

Например:

```cpp
#include <iostream>

int main() {
    try {
        int* p = nullptr;
        *p = 0;
    } catch (const std::exception& e) {
        std::cout << "Exception: " << e.what() << std::endl;
    }
}
```

Этот код не будет работать. Если вы попытаетесь его скомпилировать, то получите ошибку:

```
error C0000005: Access violation reading location 0x0000000000000000.
```

## Коды возврата

В C++ есть функция `main`, которая возвращает код возврата. Код возврата - это число, которое возвращает функция `main`. Если код возврата равен нулю, то программа завершилась успешно. Если код возврата не равен нулю, то программа завершилась с ошибкой.

Например:

```cpp
#include <iostream>

int main() {
    std::cout << "Hello, world!" << std::endl;
    return 0;
}
```

Этот код завершится успешно, потому что `main` вернет `0`.

Другие коды возврата:

* `1` - ошибка ввода-вывода
* `2` - ошибка синтаксиса
* `3` - ошибка логики
* `4` - ошибка времени выполнения
* `5` - ошибка доступа
* `6` - ошибка сигнала
* и т.д.

## Ссылки

* [Правило трех](https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D0%BE_%D1%82%D1%80%D1%91%D1%85_(C%2B%2B))
* [Исключения в C++](https://metanit.com/cpp/tutorial/6.1.php)
* [Коды возврата](https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%B4_%D0%B2%D0%BE%D0%B7%D0%B2%D1%80%D0%B0%D1%82%D0%B0)

