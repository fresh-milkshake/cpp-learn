
# Система контроля версий

- [Система контроля версий](#система-контроля-версий)
  - [Что/Зачем это?](#чтозачем-это)
  - [Git и GitHub](#git-и-github)
  - [Стандартные команды Git](#стандартные-команды-git)
  - [Пример работы с Git](#пример-работы-с-git)
    - [1. Создание репозитория](#1-создание-репозитория)
    - [2. Создание файлов](#2-создание-файлов)
    - [3. Добавление файлов в репозиторий](#3-добавление-файлов-в-репозиторий)
    - [4. Создание коммита](#4-создание-коммита)
    - [5. Создание удаленного репозитория](#5-создание-удаленного-репозитория)
    - [6. Отправка коммита в удаленный репозиторий](#6-отправка-коммита-в-удаленный-репозиторий)
    - [7. Внесение изменений в файл](#7-внесение-изменений-в-файл)
  - [Ссылки](#ссылки)
  - [Сноски](#сноски)

## Что/Зачем это?

Система контроля версий - это система, которая позволяет хранить несколько версий одного и того же файла. Это позволяет отслеживать изменения в файлах, возвращаться к предыдущим версиям, сравнивать версии и многое другое.

Все системы контроля версий имеют некоторые общие функции:

- Сохранение нескольких версий одного и того же файла
- Возможность сравнения версий
- Возможность возвращения к предыдущим версиям
- Возможность создания веток (branches) для разработки новых функций
- Возможность слияния веток (merging)

Существует множество систем контроля версий. Некоторые из них:

- [Git](https://git-scm.com/) - самая популярная система контроля версий. Используется во многих проектах, в том числе и в этом.
- [Mercurial](https://www.mercurial-scm.org/) - еще одна популярная система контроля версий. Используется в проекте [Mozilla](https://www.mozilla.org/).
- [Subversion](https://subversion.apache.org/) - самая старая система контроля версий. Используется в проекте [Apache](https://www.apache.org/).
- [Bazaar](https://bazaar.canonical.com/en/) - система контроля версий, разработанная [Canonical](https://www.canonical.com/).
- [Darcs](http://darcs.net/) - open-source система контроля версий, разработанная John Wiegley.
- [Fossil](https://www.fossil-scm.org/) - система контроля версий, разработанная [D. Richard Hipp](https://en.wikipedia.org/wiki/D._Richard_Hipp). Используется в проекте [SQLite](https://www.sqlite.org/).
- и многое другое...

Я буду рассматривать Git, так как он является одной из самых популярных систем контроля версий.

## Git и GitHub

Git - это распределенная система контроля версий. Это означает, что каждый разработчик имеет полную копию репозитория (repository) на своем компьютере. Это позволяет разработчикам работать оффлайн, а также иметь полный контроль над своими изменениями.

[GitHub.com](https://github.com) - это веб-сервис, который позволяет хранить репозитории Git в облаке. Он также предоставляет некоторые дополнительные функции, такие как:

- Комментарии к коммитам и ошибкам
- Code Review
- Автоматические тесты
- Интеграция с другими сервисами
- и т.д.

Все репозитории на GitHub.com являются публичными, но вы можете создать приватные репозитории, если вы платите за них.

## Стандартные команды Git

Вот некоторые из самых часто используемых команд Git-а:

- `git init` - создает новый репозиторий в текущей директории. Эта команда создает скрытую директорию `.git`, в которой хранится вся информация о репозитории (коммиты, ветки, и т.д.).
- `git clone` - создает локальную копию репозитория. Эта команда создает новую директорию, в которой хранится копия репозитория. По умолчанию, она называется так же, как и репозиторий на GitHub.com. Вы можете указать другое имя, или путь директоии, в которую будет склонирован репозиторий. Синтаксис: `git clone <url> <directory>`. Пример: `git clone https://github.com/NvChad/NvChad.git`.
- `git add` - добавляет файлы в индекс (staging area[^1]). Эта команда добавляет файлы в список файлов, которые будут включены в следующий коммит. Вы можете добавить все файлы в текущей директории, используя `git add .` или добавить только определенные файлы, используя `git add <file1> <file2> <file3>`. Пример: `git add README.md`.
- `git commit` - создает коммит с текущими изменениями. Эта команда создает новый коммит с текущими изменениями в индексе. Вы должны указать сообщение коммита, которое будет отображаться в истории коммитов. Синтаксис: `git commit -m "<message>"`. Пример: `git commit -m "Add README.md"`.
- `git push` - отправляет изменения в удаленный репозиторий. Эта команда отправляет все локальные коммиты в удаленный репозиторий. Синтаксис: `git push <remote> <branch>`. Пример: `git push origin main`.
- `git pull` - получает изменения из удаленного репозитория. Эта команда получает все изменения из удаленного репозитория и объединяет их с локальными изменениями. Синтаксис: `git pull <remote> <branch>`. Пример: `git pull origin main`.

## Пример работы с Git

Давайте рассмотрим пример работы с Git-ом. Предположим, что вы хотите создать проект "Калькулятор на C++". Рассмотрим по шагам, как вы можете использовать Git для управления версиями вашего проекта.

### 1\. Создание репозитория

Первым делом, вы должны создать репозиторий. Вы можете сделать это, используя GitHub Desktop или командную строку. Для создания репозитория с помощью командной строки, выполните следующие действия:

  1. Создайте новую директорию для вашего проекта. Вы можете сделать это, используя команду `mkdir` в командной строке. Пример: `mkdir calculator`.
  2. Перейдите в директорию, которую вы только что создали. Пример: `cd calculator`.
  3. Инициализируйте репозиторий, используя команду `git init`. Пример: `git init`.

Теперь вы можете начать работать над вашим проектом.

### 2\. Создание файлов

Предположим, что вы хотите создать файл `main.cpp` в вашем проекте. Вы можете сделать это, используя любой текстовый редактор, например, Notepad, Sublime Text или Visual Studio Code. Давайте создадим файл `main.cpp` и добавим следующий код:

> main.cpp
> ```cpp
> #include <iostream>  
> using namespace std;  
> int main()
> {
>     int a, b;
>     cout << "Enter two numbers: ";
>     cin >> a >> b;
>     cout << "Sum = " << a + b;
>     return 0;
> }

### 3\. Добавление файлов в репозиторий

Теперь, когда вы создали файлы в вашем проекте, вы можете добавить их в репозиторий. Для добавления файлов в репозиторий, выполните следующие действия:

  1. Добавьте файлы в репозиторий, используя команду `add`: `git add main.cpp`.
  2. Проверьте статус репозитория, используя команду `status`: `git status`. Вы должны увидеть, что файл `main.cpp` был добавлен в репозиторий.

Теперь файл `main.cpp` добавлен в репозиторий и изменения в нем будут отслеживаться Git-ом.
   
### 4\. Создание коммита

Когда вы добавляете файлы в репозиторий, вы должны создать коммит. Коммит - это снимок вашего проекта. Для создания коммита, выполните следующие действия:

  1. Создайте коммит, используя команду `commit`: `git commit -m "Add main.cpp"`.
  2. Проверьте статус репозитория, используя команду `status`: `git status`. Вы должны увидеть, что коммит был создан.
  3. Проверьте историю коммитов, используя команду `log`: `git log`. Вы должны увидеть, что коммит отображается в истории коммитов.

### 5\. Создание удаленного репозитория

Теперь, когда вы создали коммит, вы можете создать удаленный репозиторий на GitHub. Для создания удаленного репозитория, выполните следующие действия:

  1. Перейдите на [GitHub](github.com/).
  2. Нажмите на кнопку `New repository`.
  3. Введите имя репозитория, для примера назовем его `git-tutorial`. Не выбирайте `Initialize this repository with a README`.
  4. Нажмите на кнопку `Create repository` внизу страницы. Вы должны увидеть страницу с вашим репозиторием.
  5. Копируем URL репозитория, который находится в верхней части страницы. В нашем случае это `https://github.com/<ваше_имя_пользователя>/git-tutorial.git`.
  6. Вернитесь в терминал и добавьте URL репозитория, используя команду `remote add`: `git remote add origin https://github.com/<ваше_имя_пользователя>/git-tutorial.git`.
  7. Проверьте, что URL репозитория был добавлен, используя команду `remote -v`: `git remote -v`. Вы должны увидеть, что URL репозитория был добавлен.

### 6\. Отправка коммита в удаленный репозиторий

Теперь, когда вы создали коммит и добавили удаленный репозиторий, вы можете отправить коммит в удаленный репозиторий. Для отправки коммита в удаленный репозиторий, выполните следующие действия:

  1. Отправьте коммит в удаленный репозиторий, используя команду `push`: `git push -u origin master`.
  2. Проверьте статус репозитория, используя команду `status`: `git status`. Вы должны увидеть, что коммит был отправлен в удаленный репозиторий.
  3. Проверьте историю коммитов, используя команду `log`: `git log`. Вы должны увидеть, что коммит отображается в истории коммитов.
  4. Проверьте, что файл `main.cpp` отображается на странице вашего репозитория на GitHub. Вы должны увидеть, что файл `main.cpp` отображается на странице вашего репозитория на GitHub.

### 7\. Внесение изменений в файл

Теперь, когда вы создали коммит и отправили его в удаленный репозиторий, вы можете внести изменения в файл и отправить изменения в удаленный репозиторий. Для внесения изменений в файл, выполните следующие действия:

  1. Откройте файл `main.cpp` в редакторе кода.
  2. Внесите изменения в файл `main.cpp`. Например, измените строку `std::cout << "Sum = " << sum << std::endl;` на `std::cout << "Your sum is " << sum << std::endl;`.
  3. Сохраните файл `main.cpp`.
  4. Проверьте статус репозитория: `git status`. Вы должны увидеть, что файл `main.cpp` был изменен.
  5. Добавьте изменения в индекс: `git add main.cpp`.
  6. Проверьте статус репозитория: `git status`. Вы должны увидеть, что файл `main.cpp` был добавлен в индекс.
  7. Создайте коммит: `git commit -m "Changed the output text"`.
  8. Проверьте статус репозитория: `git status`. Вы должны увидеть, что коммит был создан.
  9. Проверьте историю коммитов, используя команду `log`: `git log`.
  10. Отправьте коммит в удаленный репозиторий: `git push`.
  11. Проверьте историю коммитов, используя команду `log`: `git log`. Вы должны увидеть, что коммит был отправлен в удаленный репозиторий.
  12. Проверьте, что файл `main.cpp` отображается на странице вашего репозитория на GitHub. Вы должны увидеть, что файл `main.cpp` изменен.

На этом этапе вы создали локальный репозиторий, добавили файл `main.cpp` в локальный репозиторий, создали коммит, отправили коммит в удаленный репозиторий, внесли изменения в файл `main.cpp`, создали коммит и отправили коммит в репозиторий снова.

## Ссылки

  * [Git - документация](git-scm.com/docs)
  * [Git - книга](git-scm.com/book/ru/v2)
  * [GitHub - документация](docs.github.com/en/github)

## Сноски

[^1]: Staging area (от англ. "подготовка") - это область, в которой хранятся файлы, которые будут включены в следующий коммит.